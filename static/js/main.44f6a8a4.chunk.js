(this["webpackJsonpintel-image-classification-web-app"]=this["webpackJsonpintel-image-classification-web-app"]||[]).push([[0],{336:function(e,t,a){},368:function(e,t){},369:function(e,t){},377:function(e,t){},387:function(e,t){},388:function(e,t){},389:function(e,t){},397:function(e,t){},398:function(e,t,a){"use strict";a.r(t);var n=a(16),i=a.n(n),c=a(82),r=a.n(c),s=(a(336),a(428)),o=a(318),l=Object(o.a)({typography:{useNextVariants:!0},palette:{primary:{light:"#4eaa90",main:"#137a63",dark:"#004d39",contrastText:"#ffffff"},secondary:{light:"#d4ffff",main:"#a1f4de",dark:"#6fc1ac",contrastText:"#000000"}}}),d=a(416),g=a(430),m=a(417),p=a(419),u=a(421),h=a(422),j=a(420),b=a(221),f=a.n(b),x=a(418),O=a(24),v=Object(d.a)((function(e){return Object(g.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logo:{maxWidth:40,marginRight:"10px"},button:{margin:e.spacing(1)}})}));function y(){var e=v();return Object(O.jsx)("div",{className:e.root,children:Object(O.jsx)(m.a,{position:"static",color:"transparent",children:Object(O.jsx)(x.a,{fixed:!0,children:Object(O.jsxs)(p.a,{children:[Object(O.jsx)(j.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"}),Object(O.jsx)("img",{src:"/intel-image-classification-web-app/logo96.png",alt:"logo",className:e.logo}),Object(O.jsx)(u.a,{variant:"h6",className:e.title}),Object(O.jsx)(h.a,{variant:"text",color:"default",href:"https://github.com/luangtatipsy/intel-image-classification",target:"_blank",className:e.button,startIcon:Object(O.jsx)(f.a,{}),children:"github"})]})})})})}var k=a(4),w=a.n(k),N=a(20),C=a(11),I=a(130),B=a(5),T=a(10),L=a(51),S=a(14),M=a(15),W=a(46),F=a(425),E=a(314),R=a.n(E),P=a(423),D=a(424),_=a(429),G=a(291),z=a.n(G),H=a(292),J=a.n(H),U=Object(d.a)((function(e){return{root:{marginTop:e.spacing(3),marginBottom:e.spacing(3),backgroundColor:"#E0E0E0",height:109},title:{marginBottom:e.spacing(2),color:e.palette.text.disabled},scene:{color:e.palette.primary.main},confidence:{color:e.palette.primary.main},spinner:{marginTop:e.spacing(3)},show:{display:"block"},hidden:{display:"None"}}}));function q(e){var t=U();return Object(O.jsxs)(P.a,{className:t.root,variant:"outlined",children:[Object(O.jsxs)(D.a,{className:e.onLoading?t.hidden:t.show,children:[Object(O.jsx)(_.a,{className:t.title,fontFamily:"Monospace",children:"#result"}),Object(O.jsxs)(_.a,{fontFamily:"Monospace",fontSize:16,children:['"prediction":\xa0',Object(O.jsx)("span",{className:t.scene,children:null===e.result.prediction?"null":e.result.prediction})]}),Object(O.jsxs)(_.a,{fontFamily:"Monospace",fontSize:16,children:['"confidence":\xa0',Object(O.jsx)("span",{className:t.confidence,children:null===e.result.confidence?"null":e.result.confidence})]})]}),Object(O.jsx)(D.a,{className:e.onLoading?t.show:t.hidden,children:Object(O.jsx)(z.a,{active:!0,spinner:Object(O.jsx)(J.a,{color:"#137a63"}),className:t.spinner})})]})}var V=a(403),Y=a(321),A=a(293),K=a.n(A),Q=Object(d.a)((function(e){return{wrapper:{"&:hover":{cursor:"pointer"}},selected:{borderWidth:8,borderStyle:"solid",borderColor:e.palette.primary.main}}}));function X(e){var t=Q();return Object(O.jsx)(i.a.Fragment,{children:Object(O.jsx)(Y.a,{className:"".concat(t.wrapper," ").concat(e.image.selected?t.selected:""),variant:"elevation",square:!0,selected:e.image.selected,onClick:function(){return e.handleClick(e.image.id)},children:Object(O.jsx)(K.a,{src:e.image.src})})})}var Z=Object(V.a)((function(e){return{root:{},imageWrapper:{margin:e.spacing(1)},imagePaper:{"&:hover":{cursor:"pointer"}}}}));function $(e){var t=Z(),a=e.images.map((function(a){return Object(O.jsx)(F.a,{className:t.imageWrapper,item:!0,xs:3,children:Object(O.jsx)(X,{image:a,handleClick:e.handleClick},a.id)},a.id)}));return Object(O.jsx)("div",{className:t.root,children:Object(O.jsx)(F.a,{container:!0,xs:12,item:!0,alignItems:"center",justify:"center",children:a})})}function ee(){return function(e,t){for(var a=[];a.length<e;){var n=Math.floor(Math.random()*t)+1;-1===a.indexOf(n)&&a.push(n)}return a}(9,7301).map((function(e,t){return{id:t+1,src:"".concat("/intel-image-classification-web-app/images/","sample_").concat(e,".jpg")}}))}var te=a(177),ae=function(e){Object(S.a)(a,e);var t=Object(M.a)(a);function a(){var e;return Object(B.a)(this,a),(e=t.call(this)).imagesData=ee(),e.state={images:e.imagesData.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{selected:!1})})),currentImage:null,result:{prediction:null,confidence:null},onLoading:!1},e.modelUrl="https://cdn.jsdelivr.net/gh/luangtatipsy/intel-image-classification-web-app/public/models/intel_img_clf_best_weight.js/model.json",e.targets=["buildings","forest","glacier","mountain","sea","street"],e.handleImageClick=e.handleImageClick.bind(Object(L.a)(e)),e.handleRefresh=e.handleRefresh.bind(Object(L.a)(e)),e.handlePredictionClick=e.handlePredictionClick.bind(Object(L.a)(e)),e}return Object(T.a)(a,[{key:"handleImageClick",value:function(e){var t,a=this.state.images.map((function(a){return a.id===e?(t=a.src,Object(I.a)(Object(I.a)({},a),{},{selected:!0})):Object(I.a)(Object(I.a)({},a),{},{selected:!1})}));return this.setState({currentImage:t,images:a})}},{key:"handleRefresh",value:function(){var e=ee();this.setState((function(t){return{images:e,currentImage:t.currentImage,result:t.result,onLoading:t.onLoading}}))}},{key:"readImage",value:function(e){var t=document.createElement("canvas").getContext("2d");return t.drawImage(e,0,0),t.getImageData(0,0,e.width,e.height)}},{key:"handlePredictionClick",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a,n,i,c,r,s,o,l=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState((function(e){return{images:e.images,currentImage:e.currentImage,result:e.result,onLoading:!0}})),e.next=3,te.b(this.modelUrl);case 3:return t=e.sent,a=document.getElementById("input-image"),n=this.readImage(a),i=te.a.fromPixels(n).toFloat().div(te.c(127.5)).sub(te.c(1)).expandDims(0),c=t.predict(i),r=c.argMax(-1).dataSync()[0],s=c.data(),e.next=12,s.then((function(e){return{prediction:l.targets[r],confidence:Math.max.apply(Math,Object(N.a)(e)).toFixed(3)}}));case 12:o=e.sent,this.setState((function(e){return{images:e.images,currentImage:e.currentImage,result:o,onLoading:!1}}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(O.jsx)("div",{className:e.root,children:Object(O.jsxs)(x.a,{children:[Object(O.jsx)(u.a,{className:e.title,variant:"h4",align:"center",children:"live demo"}),Object(O.jsx)("hr",{className:e.divider}),Object(O.jsx)(F.a,{container:!0,direction:"row",children:Object(O.jsxs)(F.a,{container:!0,item:!0,xs:12,sm:7,justify:"center",alignItems:"center",children:[Object(O.jsx)(F.a,{item:!0,xs:8,children:Object(O.jsx)(u.a,{className:e.subtitle,variant:"h5",align:"left",children:"Choose an Image"})}),Object(O.jsx)(F.a,{item:!0,xs:2,align:"right",children:Object(O.jsx)(j.a,{onClick:this.handleRefresh,disabled:this.state.onLoading,children:Object(O.jsx)(R.a,{})})})]})}),Object(O.jsxs)(F.a,{container:!0,direction:"row",alignItems:"flex-start",children:[Object(O.jsxs)(F.a,{className:e.gallery,item:!0,xs:12,sm:7,children:[Object(O.jsx)("img",{id:"input-image",className:e.inputImage,src:this.state.currentImage,alt:"sample being predicted"}),Object(O.jsx)($,{images:this.state.images,handleClick:this.handleImageClick})]}),Object(O.jsxs)(F.a,{className:e.prediction,item:!0,xs:12,sm:5,children:[Object(O.jsx)(h.a,{className:e.predictButton,variant:"contained",fullWidth:!0,color:"primary",disabled:null===this.state.currentImage||this.state.onLoading,onClick:this.handlePredictionClick,children:"predict"}),Object(O.jsx)(q,{result:this.state.result,onLoading:this.state.onLoading})]})]})]})})}}]),a}(i.a.Component),ne=Object(W.a)((function(e){return{root:{paddingTop:e.spacing(5),paddingBottom:e.spacing(5)},container:{gridGap:e.spacing(1)},title:{marginBottom:e.spacing(2),fontWeight:"bold",textTransform:"uppercase",color:e.palette.primary.dark},divider:{marginBottom:e.spacing(5),border:"7px solid ".concat(e.palette.primary.light),width:"20%"},subtitle:{marginLeft:e.spacing(2),fontWeight:"bold",color:e.palette.primary.dark},inputImage:{width:150,height:150,display:"none"},predictButton:{fontWeight:"bold",marginTop:e.spacing(1),color:e.palette.primary.contrastText},overlay:{marginTop:e.spacing(3),marginBottom:e.spacing(3),backgroundColor:"#E0E0E0",height:115}}}))(ae),ie=a(315),ce=a.n(ie),re=a(317),se=a.n(re),oe=a(316),le=a.n(oe),de=Object(d.a)((function(e){return{root:{flexGrow:1,paddingTop:e.spacing(5),paddingBottom:e.spacing(5),backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText},container:{gridGap:e.spacing(1)},socialButton:{borderWidth:2,borderStyle:"solid",borderColor:e.palette.primary.contrastText,color:e.palette.primary.contrastText,marginLeft:e.spacing(1),marginRight:e.spacing(1)},copyright:{fontWeight:"bold"}}}));function ge(){var e=de(),t=(new Date).getFullYear();return Object(O.jsx)("div",{className:e.root,children:Object(O.jsxs)(F.a,{className:e.container,container:!0,direction:"row",justify:"space-around",alignItems:"center",children:[Object(O.jsx)(F.a,{item:!0,xs:12,sm:4,align:"center",children:Object(O.jsxs)(u.a,{className:e.copyright,variant:"button",component:"span",children:["Made by luangtatipsy \xa9 ",t]})}),Object(O.jsxs)(F.a,{item:!0,xs:12,sm:4,align:"center",children:[Object(O.jsx)(j.a,{className:e.socialButton,component:"span","aria-label":"github.com/luangtatipsy",onClick:function(){window.open("https://github.com/luangtatipsy")},children:Object(O.jsx)(f.a,{})}),Object(O.jsx)(j.a,{className:e.socialButton,component:"span","aria-label":"facebook.com/luangtatipsyy",onClick:function(){window.open("https://facebook.com/luangtatipsyy")},children:Object(O.jsx)(ce.a,{})}),Object(O.jsx)(j.a,{className:e.socialButton,component:"span","aria-label":"instagram.com/luangtatipsyy",onClick:function(){window.open("https://instagram.com/luangtatipsyy")},children:Object(O.jsx)(le.a,{})}),Object(O.jsx)(j.a,{className:e.socialButton,component:"span","aria-label":"linkedin.com/in/taechawatk/",onClick:function(){window.open("https://linkedin.com/in/taechawatk/")},children:Object(O.jsx)(se.a,{})})]})]})})}var me=a(426),pe=a(427),ue=Object(d.a)((function(e){return{root:{paddingTop:e.spacing(10),paddingBottom:e.spacing(10),backgroundColor:e.palette.primary.light},heroSvg:{height:"55vh",display:"block",marginLeft:"auto",marginRight:"auto"},tagline:{textTransform:"uppercase",fontWeight:"bold",color:e.palette.primary.contrastText,marginBottom:e.spacing(2)},subHeading:{color:e.palette.primary.contrastText},tryButton:{float:"right",marginTop:e.spacing(2),paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}}));function he(){var e=ue();return Object(O.jsx)("div",{className:e.root,children:Object(O.jsx)(x.a,{maxWidth:"lg",children:Object(O.jsxs)(F.a,{container:!0,alignItems:"center",justify:"center",children:[Object(O.jsx)(F.a,{item:!0,xs:12,lg:6,children:Object(O.jsx)(me.a,{in:!0,timeout:2e3,disableStrictModeCompat:!0,children:Object(O.jsx)("img",{className:e.heroSvg,alt:"hero",src:"/intel-image-classification-web-app/hero-image.svg"})})}),Object(O.jsxs)(F.a,{item:!0,xs:12,lg:6,children:[Object(O.jsx)(pe.a,{in:!0,timeout:3e3,disableStrictModeCompat:!0,children:Object(O.jsx)(u.a,{className:e.tagline,variant:"h4",align:"right",children:"making computer seeing like human vision"})}),Object(O.jsx)(pe.a,{in:!0,timeout:4e3,disableStrictModeCompat:!0,children:Object(O.jsx)(u.a,{className:e.subHeading,variant:"subtitle1",align:"right",children:"This pre-trained model classifies a scene image at a time into the following categories: buildings, forest, glacier, mountain, sea, street."})})]})]})})})}var je=function(){return Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsxs)(s.a,{theme:l,children:[Object(O.jsx)(y,{}),Object(O.jsx)(he,{}),Object(O.jsx)(ne,{}),Object(O.jsx)(ge,{})]})})},be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,432)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))};r.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(je,{})}),document.getElementById("root")),be()}},[[398,1,2]]]);
//# sourceMappingURL=main.44f6a8a4.chunk.js.map